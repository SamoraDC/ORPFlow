# CNN (Temporal Convolutional Network) Training Configuration
# ===========================================================
# Optimized for BTCUSDT 1-minute bars trading

# Data settings
data:
  data_path: "data/processed/features.parquet"
  target_column: "target_return_5"
  sequence_length: 60  # 60 bars (1 hour of 1-min data)

# Model architecture
model:
  # Convolutional layers (with exponentially increasing dilation)
  conv_channels: [32, 64, 128]
  kernel_sizes: [3, 3, 3]

  # Fully connected layers
  fc_units: [256, 128]

  # Regularization
  dropout: 0.3
  use_residual: true      # Residual connections
  use_attention: true     # Self-attention mechanism

# Training parameters
training:
  batch_size: 64
  epochs: 100
  learning_rate: 0.001
  weight_decay: 1.0e-5
  patience: 15
  gradient_clip: 1.0

  # Learning rate schedule
  lr_scheduler: "cosine"
  warmup_epochs: 5
  min_lr: 1.0e-6

# CPCV (Combinatorial Purged Cross-Validation)
cpcv:
  enabled: true
  n_splits: 5
  n_test_groups: 2
  embargo_pct: 0.01
  purge_pct: 0.005

# Optuna hyperparameter optimization
optuna:
  enabled: false
  n_trials: 50
  timeout: 7200

  search_space:
    n_conv_layers: [2, 4]
    conv_channels: [32, 64, 128, 256]
    kernel_size: [3, 5, 7]
    n_fc_layers: [1, 3]
    fc_units: [64, 128, 256, 512]
    dropout: [0.1, 0.5]
    learning_rate: [1.0e-5, 1.0e-2]
    batch_size: [32, 64, 128]

# Output settings
output:
  output_dir: "trained"
  model_name: "cnn_model"
  export_onnx: true

# Device
device: "auto"  # auto, cpu, cuda

# Logging
logging:
  level: "INFO"
  log_to_file: true
  log_file: "logs/cnn_training.log"
